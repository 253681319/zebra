<html>

<header>
    <META http-equiv="X-UA-Compatible" content="IE=9">
	<META HTTP-EQUIV="Pragma" CONTENT="no-cache">
	<META HTTP-EQUIV="Expires" CONTENT="-1">

	<script src='../../lib/gravity/zebra/easyoop.js' 	 type='text/javascript'></script>

    <script type='text/javascript'>
    	var pkg = {};

		pkg.IMG = function(path) {
			var img = new Image();
		    img.onerror = function() {  zebra.print("- !!!"); };
		    img.onload  = function() {  zebra.print("+ !!!"); };
			img.src = path;
			this.constructor = Image;
			this.prototype = Image.prototype;
		};


		var img = new pkg.IMG("demo/spc1.jpg");
		zebra.out.print(":: " + (img instanceof Image));



		// function $ready()  { zebra.ready(); }
		// function $eready() { zebra.ready(); }

		// pkg.loadImage = function(path, ready) {
		//     var i = new Image();
		//     zebra.busy();
		//     if (arguments.length > 1)  {
		//         i.onerror = function() {  $eready(); ready(path, false);  };
		//         i.onload  = function() {  $ready();  ready(path, true);  };
		//     }
		//     else {
		//         i.onerror = $eready;
		//         i.onload  = $ready;
		//     }
		//     i.src = path;
		//     return i;
		// };


    </script>
</header>

<canvas id="my">
</canvas>

<body>	
</body>
</html>

