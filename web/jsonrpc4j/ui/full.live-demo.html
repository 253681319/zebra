
<html>

<header>
    <META http-equiv="X-UA-Compatible" content="IE=9">
	<META HTTP-EQUIV="Pragma" CONTENT="no-cache">
	<META HTTP-EQUIV="Expires" CONTENT="-1">
	<link rel="stylesheet" type="text/css" media="screen" href="index.css"/>
	
	<!--[if (gte IE 9)|(!IE)]><!-->	
	<script src='../../lib/gravity/zebra/all.js' type='text/javascript'></script>
    <script src='demo/demo.all.min.js' type='text/javascript'></script>

    <script type='text/javascript'>
		var desktop = null;

		function norm_demo(e) {
			if (!e) e = window.event;

			if (e) {
				if (e.preventDefault) e.preventDefault();
				else e.returnValue = false;
			}
   			desktop.graph.restore();
   			var e = document.getElementById("norm_demo_parent");
   			e.removeChild(document.getElementById("norm_demo"));
   			desktop.root.repaint();
		}

        zebra.ready(	
			function() {
				eval(zebra.Import("ui", "layout", "ui.view"));
				
	    		var rgb = zebra.util.rgb, Text = zebra.data.Text;

	        	desktop = new zCanvas("zCanvas");
				var root = desktop.root;
	    		root.padding(4);
				root.setBorder(new Border(1));
				root.setLayout(new BorderLayout());

				var p1 = new Panel(new BorderLayout(16,16));
				p1.padding(8);
				var titlePan = new Panel(new FlowLayout(CENTER, CENTER, VERTICAL, 0));
				var crPan    = new Panel(new FlowLayout(CENTER, CENTER, VERTICAL, 4));
				var logoPan  = new Panel(new FlowLayout(CENTER, TOP, HORIZONTAL, 12));
				var g = new ImagePan(zebra.ui.get("logo_head"));
				g.setBorder(new Border(1));
				logoPan.add(g);

				p1.add(TOP, titlePan);
				p1.add(CENTER, logoPan);
				p1.add(BOTTOM, crPan);
				title = new Label("Zebra");
				title.setFont(new Font("Arial", 'bold', 74));
				titlePan.add(title);
				titlePan.add(new Label("(proof of concept pilot version)"));
				var ll = new Label(new Text(zebra.io.GET("demo/desc.txt")));
				ll.setFont(new Font("Arial", "Bold", 13));
				logoPan.add(ll);
				crPan.add(new Label("Copyright (c) Andrei Vishneuski 2012"));

	   			var nt = new Tabs(), prevSelected = -1;
				nt._.add(function (src, data) {
						  if (prevSelected >= 0) src.get(prevSelected).activated && src.get(prevSelected).activated(false);
						  src.get(data).activated && src.get(data).activated(true);
						  prevSelected = data;
					 });

	    		nt.add("About", p1);
	    		nt.add("Basic UI", new zebra.ui.demo.BasicUIDemo());
	   			nt.add("Panels", new zebra.ui.demo.PanelsDemo());
	   			nt.add("Tree", new zebra.ui.demo.TreeDemo());
	   			nt.add("Menu", new zebra.ui.demo.PopupDemo());
	   			nt.add("Tooltip & Win", new zebra.ui.demo.WinDemo());
				nt.add("Layouts", new zebra.ui.demo.LayoutDemo());
				nt.add("Grid", new zebra.ui.demo.GridDemo());
				nt.add("Designer", new zebra.ui.demo.DesignerDemo());

				root.add(CENTER, nt);
				desktop.graph.save();
				desktop.graph.rotate(0.3);
				desktop.graph.scale(1.3, 1.3);
				root.repaint();
			},
			
			function() {				
				var canvas = document.getElementById("zCanvas"), offx = 430, offy = 25, e = canvas;
	        	do {
	    			offx += parseInt(e.offsetLeft);
	    			offy += parseInt(e.offsetTop);
	    		} while (e = e.offsetParent);
				var pe = document.getElementById("norm_demo_parent"), ce = document.createElement("a");
				ce.setAttribute("href", "#");
				ce.setAttribute("id", "norm_demo");
				ce.setAttribute("onclick", "norm_demo();");
				ce.style.position = "absolute";
				ce.style.top  = "" + offy + "px";
				ce.style.left = "" + offx + "px";
				ce.innerHTML  = "<img border='0' src='demo/rotate.png'\/>";
				pe.appendChild(ce); 
			}
		);
    </script>
    <!--<![endif]-->
</header>

<body bgcolor="#EEEEEE">
    <center>
    
	<table border="0" cellspacing="0" cellpadding="5" height="97%" width="100%" class="round_border" bgcolor="#EEEEEE" style="border-color:gray;border-width:0px;" >
		<tr>
		    <td align="center"><h1 style="color:black;">Zebra Rich UI Live Demo!</h1></td>
        </tr>
		<tr>
			<td align="center" valign="center">
				<table class="round_border" style="border-color:lightGray;border-width:2px;" bgcolor="white" border="0" cellspacing="0" cellpadding="20">
					<tr>
						<td align="center" id="norm_demo_parent">
							<!--[if (gte IE 9)|(!IE)]><!-->
							<canvas id="zCanvas" 
							        tabindex="0" 
							        class="zebracanvas"
							        width="600" height="450"> 
							</canvas>
							
							<!--<![endif]-->
							
							<!--[if lte IE 8]>
								<div class="title" style="margin:10px; width:550px; height:400px; border: 3px solid red; padding:20px;">
									<table>
										<tr>
											<td align="center" valign="center">
											Zebra DEMO cannot be run in Internet Explorer version lower than 9 because of lack of HTML Canvas element support.
											Use one of the following browser to see the demo:
											</td>
										</tr>
										<tr>
											<td align="center" valign="center">
												<img src="demo/chrome.gif"></img>
												<img src="demo/safari.gif"></img>
												<img src="demo/ff.gif"></img>
												<img src="demo/ie9.gif"></img>
											</td>
										</tr>
									</table>
								</div>
							<![endif]-->
						</td>
					</tr>
				</table>

			</td>
		</tr>
	</table>	
    </center>
</body>
</html>

